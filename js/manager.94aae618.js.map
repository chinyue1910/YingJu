{"version":3,"sources":["webpack:///./src/views/Manager.vue?182d","webpack:///./src/components/Manager/Sidebar.vue?139c","webpack:///src/components/Manager/Sidebar.vue","webpack:///./src/components/Manager/Sidebar.vue?1d87","webpack:///./src/components/Manager/Sidebar.vue","webpack:///./src/components/Manager/Navbar.vue?2876","webpack:///src/components/Manager/Navbar.vue","webpack:///./src/components/Manager/Navbar.vue?032a","webpack:///./src/components/Manager/Navbar.vue","webpack:///src/views/Manager.vue","webpack:///./src/views/Manager.vue?659e","webpack:///./src/views/Manager.vue","webpack:///./node_modules/core-js/modules/es.array.filter.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","visible","fullwidth","on","sidebarclose","staticClass","style","flex","sidebarwidth","changesidebar","$event","$emit","staticRenderFns","backdrop","img","_l","item","index","itemclick","link","icon","_v","_s","text","sidebarItems2","logout","props","Boolean","Number","data","sidebarItems","computed","methods","axios","delete","$router","push","component","margin","scopedSlots","_u","key","fn","ref","expanded","hidden","background","alert","shown","popovers","length","cursor","route","popover","name","content","proxy","username","patch","$root","window","FB","getLoginStatus","response","status","console","log","vm","$store","getters","mounted","get","i","limit","Math","floor","components","Sidebar","Navbar","watch","$","$filter","filter","arrayMethodHasSpeciesSupport","arrayMethodUsesToLength","HAS_SPECIES_SUPPORT","USES_TO_LENGTH","target","proto","forced","callbackfn","arguments","undefined"],"mappings":"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","file":"js/manager.94aae618.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"manager\"}},[_c('Sidebar',{attrs:{\"visible\":_vm.visible,\"fullwidth\":_vm.fullwidth},on:{\"sidebarclose\":_vm.sidebarclose}}),_c('b-container',{staticClass:\"p-0\",attrs:{\"fluid\":\"\"}},[_c('b-row',{staticClass:\"m-0\"},[_c('b-col',{staticClass:\"p-0\",style:({flex:_vm.sidebarwidth})}),_c('b-col',{staticClass:\"p-0\"},[_c('Navbar',{attrs:{\"visible\":_vm.visible},on:{\"changesidebar\":_vm.changesidebar,\"showContent\":function($event){return _vm.$emit('showContent')}}}),_c('router-view')],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-sidebar',{attrs:{\"id\":\"sidebar\",\"shadow\":\"\",\"no-header\":\"\",\"visible\":_vm.visible,\"no-close-on-route-change\":\"\",\"backdrop\":_vm.backdrop},on:{\"hidden\":function($event){return _vm.$emit('sidebarclose')}}},[_c('b-avatar',{attrs:{\"size\":\"100px\",\"src\":_vm.img,\"to\":\"/member/profile\"}}),_vm._l((_vm.sidebarItems),function(item,index){return _c('div',{staticClass:\"sidebar-item\",on:{\"click\":function($event){return _vm.itemclick(item.link)}}},[_c('vs-icon',{staticClass:\"mx-5\",attrs:{\"icon\":item.icon,\"size\":\"2rem\"}}),_vm._v(_vm._s(item.text))],1)}),_c('div',{staticClass:\"sidebar-item2\"},[_c('vs-icon',{staticClass:\"mx-5\",attrs:{\"icon\":_vm.sidebarItems2[0].icon,\"size\":\"2rem\"}}),_vm._v(_vm._s(_vm.sidebarItems2[0].text))],1),_c('div',{staticClass:\"sidebar-item2\",on:{\"click\":_vm.logout}},[_c('vs-icon',{staticClass:\"mx-5\",attrs:{\"icon\":_vm.sidebarItems2[1].icon,\"size\":\"2rem\"}}),_vm._v(_vm._s(_vm.sidebarItems2[1].text))],1)],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\n  b-sidebar#sidebar(shadow no-header :visible=\"visible\" no-close-on-route-change :backdrop=\"backdrop\" @hidden=\"$emit('sidebarclose')\")\n    b-avatar(size=\"100px\" :src=\"img\" to=\"/member/profile\")\n    .sidebar-item(v-for=\"(item,index) in sidebarItems\" @click=\"itemclick(item.link)\")\n      vs-icon(:icon=\"item.icon\" size=\"2rem\").mx-5\n      | {{ item.text }}\n    .sidebar-item2\n      vs-icon(:icon=\"sidebarItems2[0].icon\" size=\"2rem\").mx-5\n      | {{ sidebarItems2[0].text }}\n    .sidebar-item2(@click=\"logout\")\n      vs-icon(:icon=\"sidebarItems2[1].icon\" size=\"2rem\").mx-5\n      | {{ sidebarItems2[1].text }}\n</template>\n\n<script>\nimport img from '../../assets/images/logo.png'\nexport default {\n  props: {\n    visible: Boolean,\n    fullwidth: Number\n  },\n  data () {\n    return {\n      sidebarItems: [\n        { icon: 'shopping_cart', text: '訂單管理', link: '/manager/order' },\n        { icon: 'ballot', text: '商品管理', link: '/manager/display' },\n        { icon: 'comment', text: '發文管理', link: '/manager/article' },\n        { icon: 'supervisor_account', text: '會員管理', link: '/manager/membership' },\n        { icon: 'equalizer', text: '最新消息', link: '/manager/message' }\n      ],\n      sidebarItems2: [\n        { icon: 'help', text: '幫助中心' },\n        { icon: 'exit_to_app', text: '登出' }\n      ],\n      img: img\n    }\n  },\n  computed: {\n    backdrop () {\n      return (this.fullwidth < 992)\n    }\n  },\n  methods: {\n    logout () {\n      this.axios.delete(process.env.VUE_APP_APIURL + '/logout')\n        .then(response => {\n          const data = response.data\n          if (data.success) {\n            this.$swal({\n              title: '登出成功',\n              icon: 'success',\n              confirmButtonColor: '#3085d6',\n              confirmButtonText: '確定'\n            }).then(result => {\n              if (result.value || result.isDismissed) {\n                this.$store.commit('logout')\n                this.$router.push('/')\n              }\n            })\n          } else {\n            this.$swal({\n              title: data.message,\n              icon: 'error',\n              confirmButtonColor: '#3085d6',\n              confirmButtonText: '確定'\n            })\n          }\n        })\n        .catch(error => {\n          this.$swal({\n            title: error.response.data.message,\n            icon: 'error',\n            confirmButtonColor: '#3085d6',\n            confirmButtonText: '確定'\n          })\n        })\n    },\n    itemclick (index) {\n      this.$router.push(index)\n      if (this.backdrop) {\n        this.$emit('sidebarclose')\n      }\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sidebar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sidebar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Sidebar.vue?vue&type=template&id=0bd28b02&lang=pug&\"\nimport script from \"./Sidebar.vue?vue&type=script&lang=js&\"\nexport * from \"./Sidebar.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-navbar',{staticClass:\"py-0\",attrs:{\"toggleable\":\"lg\",\"type\":\"dark\",\"variant\":\"dark\",\"sticky\":\"\"}},[_c('b-navbar-brand',{staticClass:\"ml-auto\",on:{\"click\":function($event){return _vm.$emit('showContent')}}},[_vm._v(\"回首頁\")]),_c('b-navbar-toggle',{staticClass:\"ml-auto\",style:({ margin: '14px 0 14px 0' }),attrs:{\"target\":\"\"},on:{\"click\":function($event){return _vm.$emit('changesidebar')}},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar expanded = ref.expanded;\nreturn [(_vm.visible)?_c('b-icon',{attrs:{\"icon\":\"X\"}}):_c('b-icon',{attrs:{\"icon\":\"List\"}})]}}])}),_c('b-collapse',{staticClass:\"flex-grow-0\",attrs:{\"is-nav\":\"\"}},[_c('b-navbar-nav',{staticClass:\"d-flex align-items-center\"},[_c('b-nav-item',[_c('vs-icon',{staticClass:\"mr-2\",attrs:{\"icon\":\"help\",\"size\":\"1.5rem\"}}),_vm._v(\"幫助\")],1),_c('b-nav-item',{on:{\"blur\":_vm.hidden}},[_c('vs-avatar',{style:({ background: 'transparent' }),attrs:{\"id\":\"popover\",\"icon\":\"notifications\",\"badge\":_vm.alert,\"size\":\"1.5rem\"}}),_c('b-popover',{attrs:{\"target\":\"popover\",\"placement\":\"bottom\",\"triggers\":\"click\"},on:{\"shown\":_vm.shown},scopedSlots:_vm._u([{key:\"default\",fn:function(){return [(_vm.popovers.length > 0)?_c('ul',{staticClass:\"mb-0\",style:({ cursor: 'pointer' }),on:{\"click\":_vm.route}},_vm._l((_vm.popovers),function(popover,index){return _c('li',[_vm._v(\"有一則來自\"),_c('span',{staticClass:\"text-info\"},[_vm._v(_vm._s(popover.name))]),_vm._v(\"的訊息\"),_c('span',{staticClass:\"text-secondary ml-3\"},[_vm._v(_vm._s(popover.content))])])}),0):_c('p',{staticClass:\"mb-0\"},[_vm._v(\"目前沒有任何新消息\")])]},proxy:true}])})],1),_c('b-nav-item',{on:{\"click\":_vm.logout}},[_c('vs-icon',{staticClass:\"mr-2\",attrs:{\"icon\":\"exit_to_app\",\"size\":\"1.5rem\"}}),_vm._v(\"登出\")],1),_c('b-nav-item',[_vm._v(_vm._s(_vm.username)+\" 你好\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\nb-navbar.py-0(toggleable=\"lg\", type=\"dark\", variant=\"dark\", sticky)\n  b-navbar-brand.ml-auto(@click=\"$emit('showContent')\") 回首頁\n  b-navbar-toggle.ml-auto(\n    target=\"\",\n    :style=\"{ margin: '14px 0 14px 0' }\",\n    @click=\"$emit('changesidebar')\"\n  )\n    template(v-slot:default=\"{ expanded }\")\n      b-icon(v-if=\"visible\", icon=\"X\")\n      b-icon(v-else, icon=\"List\")\n  b-collapse.flex-grow-0(is-nav)\n    b-navbar-nav.d-flex.align-items-center\n      b-nav-item\n        vs-icon.mr-2(icon=\"help\", size=\"1.5rem\")\n        | 幫助\n      b-nav-item(@blur=\"hidden\")\n        vs-avatar#popover(\n          icon=\"notifications\",\n          :badge=\"alert\",\n          size=\"1.5rem\",\n          :style=\"{ background: 'transparent' }\"\n        )\n        b-popover(\n          target=\"popover\",\n          placement=\"bottom\",\n          triggers=\"click\",\n          @shown=\"shown\"\n        )\n          template(v-slot:default)\n            ul.mb-0(\n              @click=\"route\",\n              :style=\"{ cursor: 'pointer' }\",\n              v-if=\"popovers.length > 0\"\n            )\n              li(v-for=\"(popover, index) in popovers\")\n                | 有一則來自\n                span.text-info {{ popover.name }}\n                | 的訊息\n                span.text-secondary.ml-3 {{ popover.content }}\n            p.mb-0(v-else) 目前沒有任何新消息\n      b-nav-item(@click=\"logout\")\n        vs-icon.mr-2(icon=\"exit_to_app\", size=\"1.5rem\")\n        | 登出\n      b-nav-item\n        | {{ username }} 你好\n</template>\n\n<script>\nexport default {\n  props: {\n    visible: Boolean\n  },\n  data () {\n    return {\n      alert: 0,\n      popovers: ''\n    }\n  },\n  methods: {\n    shown () {\n      this.alert = 0\n      if (this.popovers.length > 0) {\n        this.axios.patch(process.env.VUE_APP_APIURL + '/message')\n      }\n    },\n    hidden () {\n      this.$root.$emit('bv::hide::popover')\n    },\n    route () {\n      this.$router.push('/manager/message')\n    },\n    logout () {\n      const vm = this\n      window.FB.getLoginStatus(function (response) {\n        if (response.status === 'connected') {\n          window.FB.logout(function (response) {\n            console.log(response)\n          })\n        }\n        vm.axios.delete(process.env.VUE_APP_APIURL + '/logout')\n          .then(response => {\n            const data = response.data\n            if (data.success) {\n              vm.$store.commit('logout')\n              vm.$swal({\n                title: '登出成功',\n                icon: 'success',\n                confirmButtonColor: '#3085d6',\n                confirmButtonText: '確定'\n              }).then(result => {\n                if (result.value || result.isDismissed) {\n                  vm.$router.push('/')\n                }\n              })\n            } else {\n              vm.$swal({\n                title: data.message,\n                icon: 'error',\n                confirmButtonColor: '#3085d6',\n                confirmButtonText: '確定'\n              })\n            }\n          })\n          .catch(error => {\n            vm.$swal({\n              title: error.response.data.message,\n              icon: 'error',\n              confirmButtonColor: '#3085d6',\n              confirmButtonText: '確定'\n            })\n          })\n      })\n    }\n  },\n  computed: {\n    username () {\n      return this.$store.getters.username\n    }\n  },\n  mounted () {\n    this.axios.get(process.env.VUE_APP_APIURL + '/message')\n      .then(response => {\n        this.alert = response.data.result.filter(d => {\n          return d.checked === false\n        }).length\n        const result = response.data.result.filter(d => {\n          return d.checked === false\n        })\n        for (const i of result) {\n          const limit = i.time = parseInt((Date.now() - i.time) / 1000)\n          if (limit < 60) {\n            i.content = '剛剛'\n          } else if (limit >= 60 && limit < 3600) {\n            i.content = Math.floor(limit / 60) + '分鐘前'\n          } else if (limit >= 3600 && limit < 86400) {\n            i.content = Math.floor(limit / 3600) + '小時前'\n          } else if (limit >= 86400 && limit < 2592000) {\n            i.content = Math.floor(limit / 86400) + '天前'\n          } else if (limit >= 2592000 && limit < 31104000) {\n            i.content = Math.floor(limit / 2592000) + '個月前'\n          } else {\n            i.content = '超過一個月前'\n          }\n        }\n        this.popovers = result\n      })\n      .catch(error => {\n        this.$vs.notify({\n          title: error.response.data.message,\n          color: 'danger',\n          icon: 'close'\n        })\n      })\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Navbar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Navbar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Navbar.vue?vue&type=template&id=e40f4502&lang=pug&\"\nimport script from \"./Navbar.vue?vue&type=script&lang=js&\"\nexport * from \"./Navbar.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template lang=\"pug\">\n  #manager\n    Sidebar(:visible=\"visible\" :fullwidth=\"fullwidth\" @sidebarclose=\"sidebarclose\")\n    b-container(fluid).p-0\n      b-row.m-0\n        b-col(:style=\"{flex:sidebarwidth}\").p-0\n        b-col.p-0\n          Navbar(@changesidebar=\"changesidebar\" @showContent=\"$emit('showContent')\" :visible=\"visible\")\n          router-view\n</template>\n\n<script>\nimport Sidebar from '../components/Manager/Sidebar'\nimport Navbar from '../components/Manager/Navbar'\nexport default {\n  components: {\n    Sidebar,\n    Navbar\n  },\n  data () {\n    return {\n      visible: false\n    }\n  },\n  props: {\n    fullwidth: Number\n  },\n  methods: {\n    changesidebar () {\n      this.visible = !this.visible\n    },\n    sidebarclose () {\n      this.visible = false\n    }\n  },\n  watch: {\n    fullwidth () {\n      this.visible = (this.fullwidth >= 992)\n    }\n  },\n  mounted () {\n    this.visible = (this.fullwidth >= 992)\n  },\n  computed: {\n    sidebarwidth () {\n      return (this.fullwidth >= 992) ? '0 0 320px' : '0 0 0'\n    }\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Manager.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Manager.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Manager.vue?vue&type=template&id=04d265d8&lang=pug&\"\nimport script from \"./Manager.vue?vue&type=script&lang=js&\"\nexport * from \"./Manager.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $ = require('../internals/export');\nvar $filter = require('../internals/array-iteration').filter;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('filter');\n// Edge 14- issue\nvar USES_TO_LENGTH = arrayMethodUsesToLength('filter');\n\n// `Array.prototype.filter` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.filter\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  filter: function filter(callbackfn /* , thisArg */) {\n    return $filter(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n"],"sourceRoot":""}