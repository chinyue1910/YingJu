(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["member"],{"80d2":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"member"}},[i("Sidebar",{attrs:{visible:t.visible,fullwidth:t.fullwidth},on:{sidebarclose:t.sidebarclose}}),i("b-container",{staticClass:"p-0",attrs:{fluid:""}},[i("b-row",{staticClass:"m-0"},[i("b-col",{staticClass:"p-0",style:{flex:t.sidebarwidth}}),i("b-col",{staticClass:"p-0"},[i("Navbar",{attrs:{visible:t.visible},on:{changesidebar:t.changesidebar,showContent:function(e){return t.$emit("showContent")}}}),i("router-view")],1)],1)],1)],1)},n=[],o=(i("a9e3"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("b-sidebar",{attrs:{id:"sidebar",shadow:"","no-header":"",visible:t.visible,"no-close-on-route-change":"",backdrop:t.backdrop},on:{hidden:function(e){return t.$emit("sidebarclose")}}},[i("b-avatar",{attrs:{size:"100px",src:t.profilesrc,to:"/member/profile"}}),t._l(t.sidebarItems,(function(e,s){return i("div",{staticClass:"sidebar-item",on:{click:function(i){return t.itemclick(e.link)}}},[i("vs-icon",{staticClass:"mx-5",attrs:{icon:e.icon,size:"2rem"}}),t._v(t._s(e.text))],1)})),i("div",{staticClass:"sidebar-item2"},[i("vs-icon",{staticClass:"mx-5",attrs:{icon:t.sidebarItems2[0].icon,size:"2rem"}}),t._v(t._s(t.sidebarItems2[0].text))],1),i("div",{staticClass:"sidebar-item2",on:{click:t.logout}},[i("vs-icon",{staticClass:"mx-5",attrs:{icon:t.sidebarItems2[1].icon,size:"2rem"}}),t._v(t._s(t.sidebarItems2[1].text))],1)],2)}),r=[],a=(i("caad"),i("2532"),{props:{visible:Boolean,fullwidth:Number},data:function(){return{sidebarItems:[{icon:"perm_identity",text:"個人資訊",link:"/member/profile"},{icon:"shopping_cart",text:"購物清單",link:"/member/Cart"},{icon:"security",text:"隱私資訊",link:"/member/privacy"},{icon:"local_shipping",text:"購物追蹤",link:"/member/track"}],sidebarItems2:[{icon:"help",text:"幫助中心"},{icon:"exit_to_app",text:"登出"}],src:""}},computed:{backdrop:function(){return this.fullwidth<992},userID:function(){return this.$store.getters.userID},profilesrc:function(){var t="https://yingju.herokuapp.com/profile/image/"+this.src;return void 0===this.src?null:this.src.includes("http")?this.src:t}},mounted:function(){var t=this;this.axios.get("https://yingju.herokuapp.com/profile/"+this.userID).then((function(e){t.src=e.data.result[0].src})).catch((function(e){t.$vs.notify({title:e.response.data.message,color:"danger",icon:"close"})}))},created:function(){var t=this;this.$bus.$on("sendsrc",(function(e){t.changesrc(e)}))},methods:{changesrc:function(t){this.src="https://yingju.herokuapp.com/profile/image/"+t},itemclick:function(t){this.$router.push(t),this.backdrop&&this.$emit("sidebarclose")},logout:function(){var t=this;this.axios.delete("https://yingju.herokuapp.com/logout").then((function(e){var i=e.data;i.success?t.$swal({title:"登出成功",icon:"success",confirmButtonColor:"#3085d6",confirmButtonText:"確定"}).then((function(e){(e.value||e.isDismissed)&&(t.$store.commit("logout"),t.$router.push("/"))})):t.$swal({title:i.message,icon:"error",confirmButtonColor:"#3085d6",confirmButtonText:"確定"})})).catch((function(e){t.$swal({title:e.response.data.message,icon:"error",confirmButtonColor:"#3085d6",confirmButtonText:"確定"})}))}}}),c=a,l=i("2877"),u=Object(l["a"])(c,o,r,!1,null,null,null),d=u.exports,m=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("b-navbar",{staticClass:"py-0",attrs:{toggleable:"lg",type:"dark",variant:"dark",sticky:""}},[i("b-navbar-brand",{staticClass:"ml-auto",on:{click:function(e){return t.$emit("showContent")}}},[t._v("回首頁")]),i("b-navbar-toggle",{staticClass:"ml-auto",style:{margin:"14px 0 14px 0"},attrs:{target:""},on:{click:function(e){return t.$emit("changesidebar")}},scopedSlots:t._u([{key:"default",fn:function(e){e.expanded;return[t.visible?i("b-icon",{attrs:{icon:"X"}}):i("b-icon",{attrs:{icon:"List"}})]}}])}),i("b-collapse",{staticClass:"flex-grow-0",attrs:{"is-nav":""}},[i("b-navbar-nav",{staticClass:"d-flex align-items-center"},[i("b-nav-item",[i("vs-icon",{staticClass:"mr-2",attrs:{icon:"help",size:"1.5rem"}}),t._v("幫助")],1),i("b-nav-item",[i("vs-avatar",{style:{background:"transparent"},attrs:{icon:"notifications",badge:0,size:"1.5rem"}})],1),i("b-nav-item",{on:{click:t.logout}},[i("vs-icon",{staticClass:"mr-2",attrs:{icon:"exit_to_app",size:"1.5rem"}}),t._v("登出")],1),i("b-nav-item",{attrs:{to:"/member/profile"}},[t._v(t._s(t.username)+" 你好")])],1)],1)],1)},b=[],h={props:{visible:Boolean},methods:{logout:function(){var t=this;window.FB.getLoginStatus((function(e){"connected"===e.status&&window.FB.logout((function(t){console.log(t)})),t.axios.delete("https://yingju.herokuapp.com/logout").then((function(e){var i=e.data;i.success?(t.$store.commit("logout"),t.$swal({title:"登出成功",icon:"success",confirmButtonColor:"#3085d6",confirmButtonText:"確定"}).then((function(e){(e.value||e.isDismissed)&&t.$router.push("/")}))):t.$swal({title:i.message,icon:"error",confirmButtonColor:"#3085d6",confirmButtonText:"確定"})})).catch((function(e){t.$swal({title:e.response.data.message,icon:"error",confirmButtonColor:"#3085d6",confirmButtonText:"確定"})}))}))}},computed:{username:function(){return this.$store.getters.username}}},f=h,p=Object(l["a"])(f,m,b,!1,null,null,null),v=p.exports,g={components:{Sidebar:d,Navbar:v},data:function(){return{visible:!1}},props:{fullwidth:Number},methods:{changesidebar:function(){this.visible=!this.visible},sidebarclose:function(){this.visible=!1}},watch:{fullwidth:function(){this.visible=this.fullwidth>=992}},mounted:function(){this.visible=this.fullwidth>=992},computed:{sidebarwidth:function(){return this.fullwidth>=992?"0 0 320px":"0 0 0"}}},w=g,x=Object(l["a"])(w,s,n,!1,null,null,null);e["default"]=x.exports}}]);
//# sourceMappingURL=member.af677bb1.js.map