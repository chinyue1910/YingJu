(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["sign"],{"1c4f":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{style:{background:"url("+t.img+") no-repeat fixed center/cover"},attrs:{id:"sign"}},[a("b-container",{staticClass:"d-flex justify-content-center"},[a("b-row",{staticClass:"flex-column align-items-center",style:{background:"rgba(0,0,0,0.8)",borderRadius:"1rem"}},[a("font-awesome-icon",{staticClass:"logo",attrs:{icon:["fas","user-circle"],size:"5x",color:"white"}}),a("b-form",{on:{submit:t.submit}},[t._l(t.inputs,(function(e,n){return a("b-form-group",{key:n,attrs:{label:e.label,"label-for":e.id}},[a("b-form-input",{attrs:{id:e.id,type:e.type,state:e.state,required:"",placeholder:e.placeholder},model:{value:e.model,callback:function(a){t.$set(e,"model",a)},expression:"item.model"}}),a("b-form-invalid-feedback",{attrs:{state:e.state}},[t._v(t._s(e.feedback))])],1)})),a("b-row",{staticClass:"py-0 m-0 w-100"},[a("vue-recaptcha",{ref:"recaptcha",style:{transform:"scale("+t.recaptcha+")"},attrs:{id:"verify",sitekey:"6Lcp4LgZAAAAAAoeuI6S0AJGjuumxg0zSuuMpKuO",loadRecaptchaScript:!0},on:{verify:t.onCaptchaVerify,expired:t.onCaptchaExpired}}),a("b-btn",{staticClass:"signbtn",attrs:{variant:"success",type:"submit",disabled:t.disabled}},[t._v("註冊")])],1)],2)],1)],1)],1)},i=[],r=(a("a9e3"),a("b85c"));function o(){return o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},o.apply(this,arguments)}var s=function(){var t=!1,e=[],a=function(a){if(!t){t=!0;for(var n=0,i=e.length;n<i;n++)e[n](a)}},n=function(a){t?a():e.push(a)},i={resolved:function(){return t},resolve:a,promise:{then:n}};return i},c=Object.prototype.hasOwnProperty;function l(){var t=s();return{notify:function(){t.resolve()},wait:function(){return t.promise},render:function(t,e,a){this.wait().then((function(){a(window.grecaptcha.render(t,e))}))},reset:function(t){"undefined"!==typeof t&&(this.assertLoaded(),this.wait().then((function(){return window.grecaptcha.reset(t)})))},execute:function(t){"undefined"!==typeof t&&(this.assertLoaded(),this.wait().then((function(){return window.grecaptcha.execute(t)})))},checkRecaptchaLoad:function(){c.call(window,"grecaptcha")&&c.call(window.grecaptcha,"render")&&this.notify()},assertLoaded:function(){if(!t.resolved())throw new Error("ReCAPTCHA has not been loaded")}}}var d=l();"undefined"!==typeof window&&(window.vueRecaptchaApiLoaded=d.notify);var p={name:"VueRecaptcha",props:{sitekey:{type:String,required:!0},theme:{type:String},badge:{type:String},type:{type:String},size:{type:String},tabindex:{type:String},loadRecaptchaScript:{type:Boolean,default:!1},recaptchaScriptId:{type:String,default:"__RECAPTCHA_SCRIPT"},recaptchaHost:{type:String,default:"www.google.com"},language:{type:String,default:""}},beforeMount:function(){if(this.loadRecaptchaScript&&!document.getElementById(this.recaptchaScriptId)){var t=document.createElement("script");t.id=this.recaptchaScriptId,t.src="https://"+this.recaptchaHost+"/recaptcha/api.js?onload=vueRecaptchaApiLoaded&render=explicit&hl="+this.language,t.async=!0,t.defer=!0,document.head.appendChild(t)}},mounted:function(){var t=this;d.checkRecaptchaLoad();var e=o({},this.$props,{callback:this.emitVerify,"expired-callback":this.emitExpired,"error-callback":this.emitError}),a=this.$slots["default"]?this.$el.children[0]:this.$el;d.render(a,e,(function(e){t.$widgetId=e,t.$emit("render",e)}))},methods:{reset:function(){d.reset(this.$widgetId)},execute:function(){d.execute(this.$widgetId)},emitVerify:function(t){this.$emit("verify",t)},emitExpired:function(){this.$emit("expired")},emitError:function(){this.$emit("error")}},render:function(t){return t("div",{},this.$slots["default"])}},u=p,h=a("f0a0"),f=a.n(h),m={components:{VueRecaptcha:u},props:{fullwidth:Number},data:function(){return{img:f.a,disabled:!1,passwordconfirm:"",inputs:[{label:"帳號",id:"account",type:"email",placeholder:"請輸入電子郵件",model:""},{label:"密碼",id:"password",type:"password",placeholder:"請輸入密碼",state:null,feedback:"密碼字數少於 6 字元",model:""},{label:"密碼確認",id:"passwordconfirm",type:"password",placeholder:"請再次輸入密碼",state:null,feedback:"輸入密碼與上面不符",model:""},{label:"姓名",id:"name",type:"text",placeholder:"請輸入姓名",model:""},{label:"手機",id:"tel",type:"tel",placeholder:"請輸入手機號碼",state:null,feedback:"手機號碼格式錯誤",model:""}],captcha:""}},watch:{form:{deep:!0,handler:function(t){var e=/^09/;this.inputs[1].state=0===t.password.length?null:t.password.length>=6,this.inputs[2].state=0===t.password.length&&0===t.passwordconfirm.length?null:t.password===t.passwordconfirm,this.inputs[4].state=0===t.tel.length?null:e.test(t.tel)&&10===t.tel.length,this.disabled=t.password!==t.passwordconfirm||t.password<6||!e.test(t.tel)||10!==t.tel.length}}},methods:{submit:function(t){var e=this;t.preventDefault(),this.axios.post("https://yingju.herokuapp.com/users",this.form).then((function(t){var a=t.data;a.success?e.$swal({title:"註冊成功",icon:"success",confirmButtonColor:"#3085d6",confirmButtonText:"確定"}).then((function(t){(t.value||t.isDismissed)&&e.$router.push("/login")})):e.$swal({title:a.message,icon:"error",confirmButtonColor:"#3085d6",confirmButtonText:"確定"});var n,i=Object(r["a"])(e.inputs);try{for(i.s();!(n=i.n()).done;){var o=n.value;o.model=""}}catch(s){i.e(s)}finally{i.f()}})).catch((function(t){e.$swal({title:t.response.data.message,icon:"error",confirmButtonColor:"#3085d6",confirmButtonText:"確定"}),e.captcha=""}))},onCaptchaVerify:function(t){this.captcha=t},onCaptchaExpired:function(){this.captcha=""}},computed:{form:function(){return{account:this.inputs[0].model,password:this.inputs[1].model,passwordconfirm:this.inputs[2].model,name:this.inputs[3].model,tel:this.inputs[4].model,address:"尚未有地址",captcha:this.captcha}},recaptcha:function(){return this.fullwidth<768?this.fullwidth/485:1}}},w=m,g=a("2877"),b=Object(g["a"])(w,n,i,!1,null,null,null);e["default"]=b.exports},f0a0:function(t,e,a){t.exports=a.p+"img/sign.04a123b8.jpg"}}]);
//# sourceMappingURL=sign.99b68206.js.map